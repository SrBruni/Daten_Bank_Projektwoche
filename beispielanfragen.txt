Beispielanfragen an die PostgreSQL-Datenbank projektwoche:

1. **Alle Schülerinnen und Schüler anzeigen, die als Teilnehmer an einem Projekt teilnehmen:**

SELECT * FROM schuelerInnen
WHERE sID IN (SELECT sID FROM nimmt_teil WHERE rolle = 'teilnehmer');


2. **Alle Projekte auflisten, die von einem bestimmten Angestellten geleitet werden:**
```sql
SELECT projekt.*
FROM projekt
INNER JOIN leitet ON projekt.pNummer = leitet.pNummer
WHERE leitet.Leitung = 'Angestelltenkürzel hier eingeben';
```

3. **Alle Projekte auflisten, die an einem bestimmten Datum stattfinden:**
```sql
SELECT * FROM findet_statt WHERE datum = 'gewünschtes Datum hier eingeben';
```

4. **Alle Projekte auflisten, die von einem bestimmten Angestellten geleitet oder mitgeleitet werden:**
```sql
SELECT projekt.*
FROM projekt
INNER JOIN (SELECT pNummer FROM leitet WHERE Leitung = 'Angestelltenkürzel hier eingeben'
            UNION
            SELECT pNummer FROM leitet_mit WHERE Leitung2 = 'Angestelltenkürzel hier eingeben') AS leitende_projekte
ON projekt.pNummer = leitende_projekte.pNummer;
```

5. Anzahl der schuelerInnen die an dem Projekt 5 teilnehmen

SELECT COUNT(*) AS Anzahl_Teilnehmer
FROM nimmt_teil
WHERE pNummer = 5;

6. 
Um die Anzahl der teilnehmenden Schülerinnen für jedes Projekt zu erhalten,
 kannst du eine Abfrage mit einer Gruppierung verwenden. Hier ist die entsprechende Abfrage:

SELECT p.pNummer AS Projekt_Nummer, COUNT(nt.sID) AS Anzahl_Teilnehmer
FROM projekt p
LEFT JOIN nimmt_teil nt ON p.pNummer = nt.pNummer
GROUP BY p.pNummer;


Diese Abfrage verwendet eine LEFT JOIN-Verknüpfung zwischen den Tabellen `projekt` und `nimmt_teil`,
 um sicherzustellen, dass auch Projekte ohne Teilnehmer angezeigt werden.
  Die COUNT-Funktion wird verwendet, um die Anzahl der Teilnehmer für jedes Projekt zu zählen.
   Die Ergebnisse werden dann nach Projekt-Nummer gruppiert.
   
7.
Um die Angestellten aufzulisten, die keinem Projekt zugewiesen sind, kannst du eine Abfrage verwenden,
 die einen LEFT JOIN verwendet und die Angestellten auswählt,
  für die es keine entsprechenden Einträge in der Tabelle "leitet" oder "leitet_mit" gibt.
   Hier ist die entsprechende Abfrage:

```sql
SELECT a.*
FROM angestellte a
LEFT JOIN leitet l ON a.aKuerzel = l.Leitung
LEFT JOIN leitet_mit lm ON a.aKuerzel = lm.Leitung2
WHERE l.Leitung IS NULL AND lm.Leitung2 IS NULL;
```

Diese Abfrage verwendet LEFT JOINs, um alle Angestellten auszuwählen und zu prüfen, ob sie in den Tabellen "leitet" oder "leitet_mit" vorhanden sind. Wenn es keine entsprechenden Einträge gibt (d. h. wenn die Angestellten kein Projekt leiten oder mitleiten), werden ihre Daten zurückgegeben.
